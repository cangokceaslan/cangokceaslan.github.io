{"version":3,"sources":["screens/MainStack/ShortsVideoScreen/index.module.scss","screens/MainStack/ShortsVideoScreen/index.tsx"],"names":["module","exports","mapActionsToProps","getShort","connect","state","cms","window","withRouter","props","_props$window","_props$window$sizes","_props$window2","_props$window2$sizes","_props$cms","_props$cms$shorts","_props$cms$shorts$pro","_props$match2","_props$match2$params","_short$tags","_props$cms2","_props$cms2$shorts","_props$match3","_props$match3$params","_useState","useState","_useState2","_slicedToArray","loaded","setLoaded","history","sWidth","sizes","width","shortEmbedWidth","height","shortEmbedHeight","useEffect","_props$match","_props$match$params","path","match","params","id","then","res","console","log","catch","err","short","shorts","attributes","watchUrl","youtubeEmbedUrl","split","seo","title","description","content","keywords","tags","author","locale","image","siteName","video","type","map","tag","push","_jsx","PageLoader","_jsxs","className","children","DocumentSettings","docData","styles","shortsVideoScreen","src","frameBorder","allow","allowFullScreen","role","index","length","trim","text","ReactMarkdown","PostSocials"],"mappings":"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","file":"static/js/22.e9d7dbc5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"shortsVideoScreen\":\"ShortsVideoScreen_shortsVideoScreen__1tbGv\",\"title\":\"ShortsVideoScreen_title__LQ0qJ\",\"tags\":\"ShortsVideoScreen_tags__1p61A\",\"text\":\"ShortsVideoScreen_text__3QYnf\"};","import React, { useEffect, useState } from 'react';\nimport styles from './index.module.scss';\nimport { ReactMarkdown } from 'react-markdown/lib/react-markdown';\nimport DocumentSettings from '@utils/seo';\nimport PageLoader from '@components/Loader/index';\nimport { connect } from 'react-redux';\nimport { getShort } from '@modules/cms';\nimport { withRouter } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport PostSocials from '@components/PostSocials';\n\n\nconst mapStateToProps = (state: any) => {\n    return {\n        cms: state.cms,\n        window: state.window,\n    }\n}\n\nconst mapActionsToProps = {\n    getShort\n}\n\nconst ShortsVideoScreen: React.FunctionComponent<any> = (props) => {\n    const [loaded, setLoaded] = useState(false)\n    const history = props?.history;\n    const aspectRatio = 16 / 9;\n\n    const sWidth = props?.window?.sizes?.width;\n    const sHeight = props?.window?.sizes?.height;\n\n    const shortEmbedWidth: number = sWidth > 992\n        ? 540\n        : (sWidth > 576)\n            ? (sWidth >= 768)\n                ? (sWidth < 992)\n                    ? 700\n                    : 560\n                : 540\n            : (sWidth - 20)\n\n    const shortEmbedHeight: number = shortEmbedWidth * aspectRatio;\n    useEffect(() => {\n        props.getShort({\n            path: props?.match?.params?.id,\n        }).then((res: any) => {\n            console.log(res)\n        }).catch((err: any) => {\n            console.log(err)\n        })\n        setLoaded(true)\n    }, [])\n    const short = props?.cms?.shorts?.[props?.match?.params?.id]?.attributes;\n\n    const youtubeId = short?.youtubeEmbedUrl.split(\"https://www.youtube.com/embed/\")[1];\n    const watchUrl = \"https://www.youtube.com/shorts/\" + youtubeId;\n\n    const seo = {\n        title: short?.title,\n        description: short?.content,\n        keywords: short?.tags,\n        author: \"Can Gökçeaslan\",\n        locale: \"tr\",\n        image: \"https://www.cangokceaslan.com/favicon.ico\",\n        siteName: \"https://www.cangokceaslan.com\",\n        video: watchUrl,\n        type: \"video\"\n    }\n\n    const keywords = short?.tags?.split(\",\").map((tag: any) => {\n        return tag\n    }) || [];\n\n    if (props?.cms?.shorts?.[props?.match?.params?.id] === null) {\n        history.push(\"/\")\n        return <PageLoader loaded={loaded} />\n    }\n\n    if (!short?.title) {\n        return <PageLoader loaded={loaded} />\n    }\n    return (\n        <div className=\"container\">\n            <DocumentSettings docData={seo} />\n            <div className={styles.shortsVideoScreen}>\n                <article>\n                    <figure>\n                        <iframe\n                            className={styles.video}\n                            width={shortEmbedWidth + \"px\"}\n                            height={shortEmbedHeight + \"px\"}\n                            src={short?.youtubeEmbedUrl}\n                            title=\"Library ve Framework nedir? Ne gibi farkları vardır? #shorts #yazılım #yazilim\"\n                            frameBorder=\"0\"\n                            allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\n                            allowFullScreen\n                        />\n                    </figure>\n                    <div role=\"heading\" className={styles.title}>\n                        {short?.title}\n                    </div>\n                    <div className={styles.tags}>\n                        {keywords.map((tag: any, index: number) => {\n                            if (index === keywords.length - 1) {\n                                return \"#\" + tag.trim()\n                            }\n                            return \"#\" + tag.trim() + \" \"\n                        })}\n                    </div>\n                    <div role=\"contentinfo\" className={styles.text}>\n                        <ReactMarkdown>\n                            {short?.content}\n                        </ReactMarkdown>\n                    </div>\n                </article>\n            </div>\n            <PostSocials />\n        </div>\n    )\n}\n\nexport default connect(mapStateToProps, mapActionsToProps)(withRouter(ShortsVideoScreen));"],"sourceRoot":""}